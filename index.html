<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>股票小工具</title>
  <style>
    :root{
      --bg:#f6f7f8;
      --card:#ffffff;
      --text:#0f172a;
      --sub:#334155;
      --green:#22c55e;   /* 按钮主色（接近你图里的绿色） */
      --green-press:#16a34a;
      --radius:18px;
      --shadow:0 12px 24px rgba(0,0,0,.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%; overflow:hidden;}  
    body{
      margin:0;
      font-family: -apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,"PingFang SC","Hiragino Sans GB","Microsoft Yahei",Arial,sans-serif;        
      color:var(--text);
      background:var(--bg);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;  
       padding: env(safe-area-inset-top) 12px calc(env(safe-area-inset-bottom) + 8px) 12px;    
    }  

    .wrap{max-width:720px;margin:0 auto 60px}
    h1{
      text-align:center;
      font-size:22px;
      font-weight:700;
      margin:6px 0 18px;
      color:var(--text);
    }

    .card{
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px;
      margin:20px 0;
    }
    .card h2{
      margin:6px 0 18px;
      font-size:24px;
      line-height:1.25;
      font-weight:800;
      text-align:center;
    }

    .row{margin:12px 0}
    label{
      display:block;
      font-size:16px;
      color:var(--sub);
      margin-bottom:6px;
    }
    input[type="number"]{
      width:100%;
      height:44px;
      padding:0 12px;
      font-size:16px;
      line-height:44px;
      border:1px solid #cfd8e3;
      border-radius:10px;
      outline:none;
      background:#fff;
    }
    input::placeholder{color:#9ca3af}

    .btn{
      appearance:none;
      display:block;
      width:100%;
      height:48px;
      border:0;
      border-radius:12px;
      font-size:18px;
      font-weight:700;
      letter-spacing:.02em;
      cursor:pointer;
      transition:transform .02s ease, filter .2s ease;
      margin:12px 0;
    }
    .btn:active{transform:translateY(1px)}
    .btn-green{background:var(--green);color:#fff}
    .btn-green:active{background:var(--green-press)}
    .btn-outline{
      background:#fff;color:var(--green);border:2px solid var(--green)
    }

    .results{margin-top:8px;font-size:16px;line-height:1.6}
    .results ul{margin:8px 0 0 18px;padding:0}
    .results li{margin:4px 0}

    .sep{
      text-align:center;
      color:#94a3b8;
      font-size:24px;
      user-select:none;
      margin:16px 0;
    }

    footer{
      text-align:center;
      color:#94a3b8;
      font-size:14px;
      padding-bottom:24px; /* 预留 iOS 手势条 */
    }

    /* 小屏优化 */
    @media (max-width:480px){
      body{padding:12px}
      .card{padding:16px}
      .btn{font-size:17px;height:46px}
      .card h2{font-size:22px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>股票小工具</h1>

    <!-- 卡片 1：盈亏计算器 -->
    <section class="card">
      <h2>盈亏计算器</h2>
      <div class="row">
        <label for="baseNumber">输入数字：</label>
        <input type="number" id="baseNumber" placeholder="例如 100" inputmode="decimal">
      </div>
      <button class="btn btn-green" onclick="calculateProfit()">盈利</button>
      <button class="btn btn-green" onclick="calculateLoss()">亏损</button>
      <div id="results" class="results"></div>
    </section>

    <!-- 一键清空（居中、与截图布局对齐） -->
    <button class="btn btn-outline" onclick="clearAllInputs()">一键清空</button>

    <!-- 卡片 2：两个数的百分比差异 -->
    <section class="card">
      <h2>两个数的百分比差异</h2>
      <div class="row">
        <label for="firstValue">第一个数：</label>
        <input type="number" id="firstValue" placeholder="例如 100" inputmode="decimal">
      </div>
      <div class="row">
        <label for="secondValue">第二个数：</label>
        <input type="number" id="secondValue" placeholder="例如 90" inputmode="decimal">
      </div>
      <button class="btn btn-green" onclick="calculatePercentageDifference()">计算差异</button>
      <div id="diffResult" class="results"></div>
    </section>

    <div class="sep">…</div>

    <footer>
      © 2025 朱飞宇. All Rights Reserved（版权所有）。
    </footer>
  </div>

  <script>
    // 盈利：1%~10%（步进1）+ 20%~90%（步进10）
function calculateProfit() {
  const base = parseFloat(document.getElementById("baseNumber").value);  
  const resultsDiv = document.getElementById("results");
  if (isNaN(base)) {
    resultsDiv.innerHTML = "<p>请输入正确的数字！</p>";
    return;
  }
  let html = "<ul>";
  for (let i = 1; i <= 10; i++) {
    const result = base * (1 + i / 100);
    html += `<li>增加 ${i}%：${parseFloat(result.toFixed(4))}</li>`;
  }
  for (let i = 20; i <= 90; i += 10) {  
    const result = base * (1 + i / 100);
    html += `<li>增加 ${i}%：${parseFloat(result.toFixed(4))}</li>`;
  }
  html += "</ul>";
  resultsDiv.innerHTML = html;
}

// 亏损
function calculateLoss() {
  const base = parseFloat(document.getElementById("baseNumber").value);
  const resultsDiv = document.getElementById("results");
  if (isNaN(base)) {
    resultsDiv.innerHTML = "<p>请输入正确的数字！</p>";
    return;
  }
  let html = "<ul>";
  for (let i = 1; i <= 10; i++) {
    const result = base * (1 - i / 100);
    html += `<li>减少 ${i}%：${parseFloat(result.toFixed(4))}</li>`;
  }
  for (let i = 20; i <= 90; i += 10) {
    const result = base * (1 - i / 100);
    html += `<li>减少 ${i}%：${parseFloat(result.toFixed(4))}</li>`;
  }
  html += "</ul>";
  resultsDiv.innerHTML = html;
}
    // 两个数的百分比差异
    function calculatePercentageDifference() {
      const base = parseFloat(document.getElementById("firstValue").value);
      const compare = parseFloat(document.getElementById("secondValue").value);
      const diffDiv = document.getElementById("diffResult");

      if (isNaN(base) || isNaN(compare)) {
        diffDiv.innerHTML = "<p>请输入正确的数字！</p>";
        return;
      }
      const difference = ((compare - base) / base) * 100;
      diffDiv.innerHTML = `<p>差异：${difference.toFixed(2)}%</p>`;    
    }

    // 一键清空
    function clearAllInputs() {
      ["baseNumber","firstValue","secondValue"].forEach(id=>{
        const el = document.getElementById(id);
        if (el) el.value = "";
      });
      document.getElementById("results").innerHTML = "";
      document.getElementById("diffResult").innerHTML = "";
      // 轻微反馈
      try { navigator.vibrate && navigator.vibrate(8); } catch(e){}
    }
  </script>
</body>
</html>
