<!DOCTYPE html>
<html lang="zh-Hans">
  <head>
    <meta charset="UTF-8" />
    <!-- 视口设置，保证移动端适配 -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>股票小工具</title>
    <style>
      /* 基础排版 */
      * {
        box-sizing: border-box;
      }
      body {
        font-family: sans-serif;
        margin: 1rem;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 {
        text-align: center;
        font-size: 1.5rem;
      }
      .section {
        margin: 1rem 0;
        padding: 1rem;
        border: 1px solid #ccc;
        border-radius: 8px;
        max-width: 600px;
        width: 100%;
      }
      .row {
        display: flex;
        align-items: center;
        margin: 0.5rem 0;
        flex-wrap: wrap;
      }
      label {
        flex: 0 0 120px;
      }
      input {
        flex: 1 1 auto;
        padding: 0.5rem;
        font-size: 1rem;
      }
      button {
        padding: 0.5rem 1rem;
        font-size: 1rem;
        margin: 0.5rem 0.25rem;
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      .btn-container {
        display: flex;
        flex-wrap: wrap;
        gap: 0.5rem;
      }
      .result {
        margin-top: 0.5rem;
        font-weight: bold;
      }
      /* 按钮配色 */
      .primary {
        background-color: #007bff;
        color: white;
      }
      .secondary {
        background-color: #6c757d;
        color: white;
      }
      .success {
        background-color: #28a745;
        color: white;
      }
      .danger {
        background-color: #dc3545;
        color: white;
      }
      /* 小屏幕优化 */
      @media (max-width: 480px) {
        body {
          margin: 0.5rem;
        }
        label {
          flex: 0 0 100px;
        }
        button {
          flex: 1 1 100%;
          min-width: 120px;
          font-size: 0.9rem;
        }
      }
    </style>
  </head>
  <body>
    <h1>股票小工具</h1>

    <!-- 盈亏计算器 -->
    <div class="section">
      <h2>盈亏计算器</h2>
      <div class="row">
        <label>买入价格：</label>
        <input type="number" id="buyPrice" />
      </div>
      <div class="row">
        <label>卖出价格：</label>
        <input type="number" id="sellPrice" />
      </div>
      <div class="row">
        <label>股数：</label>
        <input type="number" id="shares" />
      </div>
      <div class="btn-container">
        <button class="primary" onclick="calculateProfit()">计算盈亏</button>
        <button class="secondary" onclick="clearProfit()">清空</button>
      </div>
      <div class="result" id="profitResult"></div>
    </div>

    <!-- 百分比差计算器 -->
    <div class="section">
      <h2>百分比差</h2>
      <div class="row">
        <label>数值 A：</label>
        <input type="number" id="valueA" />
      </div>
      <div class="row">
        <label>数值 B：</label>
        <input type="number" id="valueB" />
      </div>
      <div class="btn-container">
        <button class="success" onclick="calculatePercentage()">计算百分比差</button>
        <button class="secondary" onclick="clearPercentage()">清空</button>
      </div>
      <div class="result" id="percentageResult"></div>
    </div>

    <script>
      function calculateProfit() {
        const buy = parseFloat(document.getElementById("buyPrice").value);
        const sell = parseFloat(document.getElementById("sellPrice").value);
        const shares = parseFloat(document.getElementById("shares").value);
        if (isNaN(buy) || isNaN(sell) || isNaN(shares)) {
          document.getElementById("profitResult").textContent =
            "请输入完整数据";
          return;
        }
        const profit = (sell - buy) * shares;  
        document.getElementById("profitResult").textContent =
          "盈亏：" + profit.toFixed(2) + " 元";
      }
      function clearProfit() {
        document.getElementById("buyPrice").value = "";
        document.getElementById("sellPrice").value = "";
        document.getElementById("shares").value = "";
        document.getElementById("profitResult").textContent = "";
      }

      function calculatePercentage() {
        const a = parseFloat(document.getElementById("valueA").value);
        const b = parseFloat(document.getElementById("valueB").value);
        if (isNaN(a) || isNaN(b)) {
          document.getElementById("percentageResult").textContent =
            "请输入完整数据";
          return;
        }
        const diff = ((b - a) / a) * 100;  
        document.getElementById("percentageResult").textContent =
          "百分比差：" + diff.toFixed(2) + "%";
      }
      function clearPercentage() {
        document.getElementById("valueA").value = "";
        document.getElementById("valueB").value = "";
        document.getElementById("percentageResult").textContent = "";
      }
    </script>
  </body>
</html>
